package org.vaadin.befrish.sketchcanvas;

import com.vaadin.flow.component.Unit;
import com.vaadin.flow.component.html.Div;
import com.vaadin.flow.component.html.Image;
import com.vaadin.flow.component.html.NativeButton;
import com.vaadin.flow.component.page.Push;
import com.vaadin.flow.router.Route;

@Route("")
public class DemoView extends Div {

    private static final int CANVAS_WIDTH = 500;
    private static final int CANVAS_HEIGHT = 300;
    private static final String BASE64_IMAGE = "data:image/png;base64,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";

    public DemoView() {
        final SketchCanvas canvas = new SketchCanvas();
//        canvas.setWidthFull();
        canvas.setWidth(CANVAS_WIDTH, Unit.PIXELS);
        canvas.setHeight(CANVAS_HEIGHT, Unit.PIXELS);
        canvas.getStyle().set("border", "1px solid blue");
        canvas.setStrokeStyle("blue");
        canvas.setLineWidth(10);

        final Div buttons = new Div();
        buttons.add(new NativeButton("Red", buttonClickEvent -> {
            canvas.setStrokeStyle("red");
            canvas.setLineWidth(20);
        }));

        buttons.add(new NativeButton("Clear canvas", buttonClickEvent -> canvas.clear()));

        buttons.add(new NativeButton("Load image", buttonClickEvent -> canvas.setBase64Image(BASE64_IMAGE)));

        final Image image = new Image();
        image.getStyle().set("border", "1px solid red");
        buttons.add(new NativeButton("Save image", buttonClickEvent -> {
            canvas.getBase64Image().thenAccept(base64Image -> {
                // Setzen Sie den Base64-String als Bildquelle
                image.setSrc(base64Image);
                image.setWidth(canvas.getWidth());
                image.setHeight(canvas.getHeight());
            });
        }));

        add(canvas, buttons, image);

        canvas.getElement().setAttribute("tabindex", "1");
    }

}
